<nav
  ngbNav
  #nav="ngbNav"
  class="nav-tabs"
  [destroyOnHide]="false"
  [(activeId)]="active"
>
  <ng-container
    *ngFor="let target of targetService.assignments | keyvalue; let idx = index"
    [ngbNavItem]="idx"
    [destroyOnHide]="false"
  >
    <a ngbNavLink
      >Target {{ idx + 1 }}
      <span
        class="badge"
        [class.badge-success]="
          tabScores[idx] == tabScores[scored] && tabScores[idx] > 0
        "
        [class.badge-secondary]="
          tabScores[idx] != tabScores[scored] || tabScores[idx] == 0
        "
        >{{ tabScores[idx] || 0 | number: "1.1-2" }}</span
      ></a
    >
    <ng-template ngbNavContent>
      <app-target
        [targetSpec]="target.value"
        (scoreUpdate)="receiveScore(idx, $event)"
      ></app-target>
    </ng-template>
  </ng-container>
</nav>

<div [ngbNavOutlet]="nav" class="mt-2"></div>
